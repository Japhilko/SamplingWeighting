library(SDaA)
# install.packages("SDaA")
install.packages("SDaA")
library(SDaA)
data(agstrat)
kable(head(agstrat))
library(knitr)
kable(head(agstrat[,c("weigth")]))
colnames(agstrat)
kable(head(agstrat[,c("weight")]))
cnames <- c("state","acres92","acres87","region","weight")
intersect(colnames(agstrat),cnames)
match(cnames,colnames(agstrat))
ind <- match(cnames,colnames(agstrat))
agstrat$region
agsrsDesign <- svydesign(ids=~1, weights = ~1, data = agsrs)
svyratio(numerator = ~acres92, denominator = ~acres87,
design = agsrsDesign) # proportion B hat
library(survey)
agsrsDesign <- svydesign(ids=~1, weights = ~1, data = agsrs)
svyratio(numerator = ~acres92, denominator = ~acres87,
design = agsrsDesign) # proportion B hat
erg1 <- svyratio(numerator = ~acres92, denominator = ~acres87,  design = agsrsDesign) # proportion B hat
erg1$ratio
kable(erg1$ratio)
kable(erg1$var)
tab_reg <- table(agstrat$region)
tab_reg
